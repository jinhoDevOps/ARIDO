**0. 선수지식**
**1. 서론**
- 쿠버네티스 개념의 이해
- 컨테이너와 도커의 기본 개념
- 쿠버네티스의 필요성 및 역할

**2. 개념**
- 2-1. 컨테이너
    - 컨테이너의 정의 및 작동 원리
    - 컨테이너와 가상 머신의 차이점
    - 리눅스 커널과 컨테이너의 상호작용

- 2-2. 쿠버네티스(Kubernetes)
    - 쿠버네티스의 정의 및 핵심 기능
    - 컨테이너 오케스트레이션의 중요성
    - 마이크로서비스 아키텍처와 쿠버네티스의 관계


---
# 선수 지식
이 글은 OS, SW 개발 프로세스, 프로그래밍 , 컨테이너, 가상화 기술, 네트워크, 클라우드 컴퓨팅 에 대한 이해가 필요합니다. 이러한 개념들을 모두 깊게 이해할 필요는 없지만, 기본적인 지식이 있으면 문서의 내용을 이해하는 데 큰 도움이 될 것입니다.

1. 운영 체제 : 리눅스 기반 시스템에 대한 기본적인 이해가 필요합니다. 쿠버네티스와 컨테이너 기술은 주로 리눅스 환경에서 사용되기 때문에, 리눅스의 기본 명령어, 파일 시스템 구조 등에 대한 지식이 도움이 됩니다.

2. 소프트웨어 개발의 기본: 프로그래밍의 기본 개념(변수, 함수, 구조 등)과 소프트웨어 개발 프로세스에 대한 이해가 필요합니다. 파이썬을 배우고 있다면, 기본적인 프로그래밍 개념에 대한 이해가 있을 것입니다.

3. 컨테이너와 가상화 기술: 컨테이너 기술과 가상 머신에 대한 기본적인 이해가 필요합니다. 컨테이너는 애플리케이션을 격리된 환경에서 실행하는 기술이며, 이것이 어떻게 전통적인 가상화 기술과 다른지를 이해하는 것이 중요합니다.

4. 컴퓨터 네트워크: IP 주소, 포트, 프로토콜 등 기본적인 네트워크 개념에 대한 이해가 필요합니다. 쿠버네티스와 컨테이너는 네트워크를 통해 서로 통신하기 때문입니다.

5. 클라우드 컴퓨팅: 클라우드 서비스(예: AWS, GCP, NCP)의 기본 개념과 이들이 제공하는 서비스에 대한 기본적인 지식이 유용합니다. 쿠버네티스는 클라우드 환경에서 효율적으로 작동하도록 설계되었기 때문입니다.

---
# 1. 서론

이 문서에서는 쿠버네티스의 기본 개념을 알아볼 것입니다.

세줄요약
- 컨테이너는 리눅스 기반의 격리된 실행 환경을 제공하는 기술
- 도커는 컨테이너를 관리하는 런타임 도구
- 쿠버네티스는 이 컨테이너를 대규모로 관리하고 자동화하는 오케스트레이션 시스템

"컨테이너"와 "도커"는 서로 밀접하게 연관되어 있지만, 같은 것은 아닙니다. 

**컨테이너**는 애플리케이션과 그 애플리케이션을 실행하는 데 필요한 모든 종속성과 라이브러리를 포함하는 경량화된, 격리된 실행 환경입니다. 이는 리눅스의 핵심 기능인 cgroups와 namespace를 사용하여 프로세스 간 격리를 제공합니다. 컨테이너는 하나의 운영 체제 커널을 공유하면서도 각각 독립적으로 실행될 수 있습니다. 이것이 컨테이너를 효율적으로 만드는 주요 요소입니다. 리눅스 기반 기술로서, 컨테이너는 리눅스 커널의 기능을 활용하여 가상화를 제공하지만, 전통적인 가상 머신과 같은 전체 운영 체제를 포함하지는 않습니다.

**도커**는 컨테이너를 생성하고 관리하는 데 사용되는 가장 인기 있는 컨테이너 관리 도구 중 하나입니다. 도커는 컨테이너화된 애플리케이션을 쉽게 개발, 배포 및 실행할 수 있도록 해주는 여러 도구와 워크플로우를 제공합니다. 도커는 컨테이너를 위한 기본 런타임 환경을 제공하며, 'Docker Engine'을 통해 컨테이너의 생명주기를 관리합니다.

**쿠버네티스**는 컨테이너화된 애플리케이션의 배치, 스케일링 및 관리를 자동화하는 컨테이너 오케스트레이션 도구입니다.쿠버네티스는 복잡한 애플리케이션을 운영하고, 여러 컨테이너의 작업을 조정하며, 고가용성을 보장하고, 부하에 따라 자원을 자동으로 스케일링하는 등의 기능을 제공합니다. 도커와 달리, 쿠버네티스는 단일 호스트에서의 컨테이너 런타임 관리보다는 클러스터 단위에서 컨테이너를 운영하는 데 초점을 맞춥니다.
# 2. 개념설명
### 컨테이너에 대한 이해

컨테이너 기술은 소프트웨어를 실행하는 방식을 혁신적으로 변화시켰습니다. 전통적인 서버 관리가 시스템의 상태를 모니터링하고 애플리케이션을 개별적으로 살펴보는 데 집중했다면, 컨테이너는 애플리케이션에 특화된 격리된 환경을 제공함으로써 그 방식을 단순화시켰습니다. 이러한 격리는 리눅스 커널의 cgroups과 namespaces를 활용하여, 애플리케이션에 독립된 파일 시스템과 자원을 할당함으로써 실현됩니다. 이는 각 컨테이너가 마치 별도의 '미니 서버'처럼 작동하게 만들어, 하나의 서버에서 여러 애플리케이션을 효율적으로 운영할 수 있게 합니다.

도커는 이러한 컨테이너를 생성하고 관리하는 데 가장 널리 사용되는 도구입니다. 하지만 컨테이너 기술은 도커에만 국한되지 않으며, 기본적인 리눅스 명령어와 기능을 사용하여 도커 없이도 컨테이너를 만들 수 있습니다. 

**컨테이너 파일시스템**: 컨테이너는 각각의 애플리케이션에 대해 별도의 파일시스템을 제공합니다. 이것은 애플리케이션이 필요로 하는 코드, 라이브러리, 런타임, 환경변수 설정 등을 포함합니다. 컨테이너 파일시스템은 이미지(image)라는 정적인 파일로 시작되며, 컨테이너가 시작될 때 해당 이미지를 기반으로 실행 환경을 만들어냅니다. 이 파일시스템의 독립성은 컨테이너가 다른 컨테이너나 호스트 시스템과 분리되어 독립적으로 실행될 수 있게 하는 중요한 요소입니다.

**컨테이너 격리와 자원**: 컨테이너는 리눅스의 네임스페이스(namespace)와 제어 그룹(cgroups) 같은 기술을 사용하여 프로세스를 격리합니다. 네임스페이스는 컨테이너 프로세스가 시스템의 나머지 부분과 분리된 환경에서 실행되게 하며, 컨테이너가 마치 자신만의 서버에 있는 것처럼 느끼게 합니다. 제어 그룹은 컨테이너가 사용할 수 있는 CPU, 메모리, I/O 등의 자원을 제한하고 관리하여 시스템 자원의 과도한 사용을 방지하고, 여러 컨테이너 간의 자원 분배를 공정하게 관리합니다.

이 섹션을 통해 컨테이너가 제공하는 격리된 실행 환경과 기본적인 구성 원리를 살펴보았습니다. 또한, 도커와 같은 도구의 편의성과 독립적인 컨테이너 관리 방법에 대해서도 보았습니다. 이 지식을 바탕으로 애플리케이션을 보다 효과적으로 개발하고 배포할 수 있으며, 다양한 환경에서 일관된 결과를 기대할 수 있습니다. 이는 소프트웨어 개발과 운영의 효율성을 향상시키는 중요한 단계입니다.

### 그래서 쿠버네티스(Kubernetes)가 무엇인가?

차세대 인프라 아키텍쳐

컨테이너 많을때 효율적으로 관리할수있는 오케스트레이션 솔루션(컨테이너 오케스트레이션 도구)

단순히 서버(컨테이너) 한 대에 애플리케이션 하나를 배포하는 경우에는 쿠버네티스의 복잡성이 오히려 부담이 될 수 있습니다. 
쿠버네티스는 마이크로서비스 아키텍처(MSA) 환경에서 유용합니다. MSA에서는 서비스별로 별도의 컨테이너를 사용하게 되며, 이를 효율적으로 관리하고 조정하는 것이 중요해집니다. 쿠버네티스 없이 이러한 환경에서 수동으로 배포와 관리를 시도하는 것은 현실적으로 불가능에 가깝습니다.

예를 들어, 'upload', 'auth', 'pay'와 같은 서로 다른 기능을 가진 컨테이너들이 있을 때, 만약 'pay' 컨테이너에 문제가 생겨서 중단된다면 빠르게 재시작을 해야할 것입니다.
쿠버네티스는 이를 빠르게 감지하고 재시작할 수 있습니다. 또한 여러 컨테이너를 효과적으로 관리하고 균형을 맞출 수 있는 기능을 제공합니다.

**오토스케일링**: 트래픽이 증가할 때 자동으로 컨테이너의 수를 조절해 대응할 수 있습니다. 이 기능은 시스템의 안정성을 유지하고 사용자의 요구에 민첩하게 반응할 수 있게 해줍니다.

**무중단 업데이트**: 일반적인 클라우드 환경에서 수동으로 업데이트를 진행하면 일시적인 서비스 중단이 불가피합니다. 그러나 쿠버네티스를 사용하면 중단 없이 업데이트를 할 수 있습니다. 물론, 서버가 새로 생성되는 등 특정 상황에서는 잠깐 동안의 다운타임이 발생할 수 있습니다.

(쿠버네티스 자체 버전이 자주 올라가는데 그 버전을 한번에 못올리는 내용은 여기서 다루지 않습니다.)
(eks, nks 이런것도 따로 다룰 예정 - 계획 미정)

---
참고 문서
[카카오 테크 유튜브](https://www.youtube.com/@kakaotech/search?query=%20if(kakao))
[도커없이 컨테이너 만들기 / if(kakao)](https://www.youtube.com/watch?v=mSD88FuST80)
[개발자 관점 컨테이너](https://tech.kakaoenterprise.com/150)
